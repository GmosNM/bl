/*
 * Unit test
 * -----------
 * Evaluation test 
 */

#load "std/utest.bl"
using std::utest;

module eval {
  const a i32 = 1; // 1
  const b i32 = 1 + a; // 2 
  const c i32 = 1 + b * b; // 5
  const d i32 = 1 + (b / b); // 2
  
  #test 
  fn evaluation() i32 {
    if a != 1 {
      return FAIL;
    }

    if b != 2 {
      return FAIL;
    }

    if c != 5 {
      return FAIL;
    }

    if d != 2 {
      return FAIL;
    }

    return SUCCESS;
  }
}