TODO:
	- check various combination of hash directives and validate correct error checking
	- main cannot be test case!!!
