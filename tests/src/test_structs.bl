#test "simple local structure" {
  Local : struct {
    i s32,
    j s32
  };

  local Local;
  local.i = 1;
  local.j = 2;

  assert(local.i == 1);
  assert(local.j == 2);
};

#test "struct on heap" {
  Foo : struct {
    i s32,
    j s32
  };

  foo := cast(*Foo) mem_alloc(sizeof(Foo)); 
  assert(foo != null);
  foo->i = 1;
  foo->j = 2;

  assert(foo->i == 1);
  assert(foo->j == 2);
  mem_free(foo);
};

#test "nested structure" {
  Bar : struct {
    i s32
  };

  Foo : struct {
    bar Bar
  };

  foo Foo;
  foo.bar.i = 1;
  assert(foo.bar.i == 1);
};

#test "self-containing structure" {
  Foo : struct {
    foo *Foo
  };

  foo Foo;
  foo.foo = &foo;
};

#test "anonymous structure aka tuple" {
  foo struct { s32, s32 };
  foo._0 = 10;
  foo._1 = 20;
  assert(foo._0 == 10);
  assert(foo._1 == 20);
};