#load "libc.bl"

Foo : struct {
  callback *fn (s32),
};

main : fn () -> s32 {
  hello : fn () {
    puts("hello!!!");
  };

  bye : fn () {
    puts("bye!!!");
  };

  lambda := &hello;
  lambda();

  lambda = &bye;
  lambda();

  foo Foo;
  foo.callback = &hola;

  foo.callback(10);

  return 0;
};

hola : fn (n s32) {
  puts("hola!!!");
};