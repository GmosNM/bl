/*
 * Unit test
 * -----------
 * Simple array test 
 */

#load "utest.bl"

using utest;

struct foo_t {
  x i32,
  y i32
}

fn main() i32 {
  const count i32 = 256;
  mut arr i32[count];  
  mut i i32;

  while (i < count) {
    arr[i] = i;
    i = i + 1;
  }

  i = 0;
  while (i < count) {
    assert(arr[i] == i); 
    i = i + 1;
  }

  mut foos foo_t[count];

  i = 0;
  while (i < count) {
    foos[i].x = i;
    foos[i].y = i;
    i = i + 1;
  }

  i = 0;
  while (i < count) {
    assert(foos[i].x == i); 
    assert(foos[i].y == i); 
    i = i + 1;
  }

  return 0;
}