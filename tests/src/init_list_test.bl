/*
 * Unit test
 * -----------
 * Enums.
 */

#load "std/utest.bl"
using std::utest;

module init {
  struct A {
    b B,
    x i32
  }
  
  struct B {
    c C,
    x i32
  }
  
  struct C {
    x i32
  }
  
  #test
  fn initialization() i32 {
    mut a A = {
      .b = {
        .c = {
          .x = 10
        },
        .x = 20
      },
      .x = 30
    };
  
    if a.x != 30 {
      return FAIL;
    }

    if a.b.x != 20 {
      return FAIL;
    }

    if a.b.c.x != 10 {
      return FAIL;
    }

    return SUCCESS;
  }
}