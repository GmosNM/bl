#test "fundamental type pointers" {
  a := 10;
  a_ptr := &a;
  assert(a_ptr != null);
  assert(*a_ptr == 10);
};

#test "custom type pointers" {
  Foo : struct {
    i s32,
    j s32
  };

  foo Foo;
  foo.i = 10;
  foo.j = 20;

  foo_ptr := &foo;
  assert(foo_ptr != null);
  assert(foo_ptr->i == 10);
  assert(foo_ptr->j == 20);
  assert((*foo_ptr).i == 10);
  assert((*foo_ptr).j == 20);

  i_ptr := &foo.i;
  assert(i_ptr != null);
  assert(*i_ptr == 10);
};

#test "pointer to pointer" {
  test : fn (ptr **s32) {
    assert(ptr != null);
    assert(*ptr != null);
    *ptr = null;
  };

  i := 10;
  i_ptr := &i;

  test(&i_ptr);
  assert(i_ptr == null);
};