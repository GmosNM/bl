/*
 * Unit test
 * -----------
 * Local and global const test.
 */

#load "std/utest.bl"
using std::utest;

module cnst {
  const _i32_global i32 = 256;
  
  struct foo {
    a i32[_i32_global + 1]
  }
  
  #test
  fn constants() i32 {
    const _i32_local i32 = 256 + 10;
    mut copy = _i32_local;
    copy = _i32_global;
    copy = A::_i32_global;
    copy = A::_i32_global2;
    mut f foo;

    return SUCCESS;
  }
  
  module A {
    public const _i32_global i32 = 256;
    public const _i32_global2 i32 = _i32_global3 + 1;
    const _i32_global3 i32 = 256;
  }
}