/* playground */

#load "std/debug.bl"

/*
  TODO:
  - arrays
*/

main :: fn () s32 {
  foo := 666;
  foo_ptr := &foo;
  foo_ptr_ptr := &foo_ptr;

  assert(foo_ptr != null);
  assert(foo_ptr_ptr != null);

  bar : s32 = *foo_ptr;
  baz := *foo_ptr;
  bar = **foo_ptr_ptr;
  assert(bar == foo);

  i := 666;
  modif(&i);
  return i;
};

modif :: fn (ptr: *s32) {
  *ptr = 777;
};

/*
putchar :: fn (c: s32) s32 #extern;

say_hello :: fn () {
  putchar(72);
  putchar(101);
  putchar(108);
  putchar(108);
  putchar(111);
  putchar(32);
  putchar(87);
  putchar(111);
  putchar(114);
  putchar(108);
  putchar(100);
  putchar(10);
};
*/