/* testing playground */

#load "std/memory.bl"
#load "std/debug.bl"

using std::memory;
using std::debug;

fn main() {
  const count i32 = 256;
  var data *i32 = cast(*i32) malloc(cast(size_t) count * sizeof(i32));

  var i i32;
  var iter *i32 = data;

  while (i < count) {
    (*iter) = i;
    iter = cast(*i32) (cast(size_t) iter + sizeof(i32));
    i = i + 1;
  }

  i = 0;
  iter = data;
  while (i < count) {
    print("data = %d\n", (*iter));

    iter = cast(*i32) (cast(size_t) iter + sizeof(i32));
    i = i + 1;
  }
 
  free(cast(*void) data);
}


