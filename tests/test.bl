/* playground */

main :: fn () s32 {
    { 
        arr: [..]s32;
        defer array_terminate(arr);
        
        array_push(arr, 10);
        loop i := 0; i < 10; i += 1 {
            array_push(arr, i);
        }

        print("array is %\n", arr);
        
        loop i := 0; i < arr.len; i += 1 {
            print("index % = %\n", i, arr[i]);
        }
    }

    { 
        arr: [..]s32;
        defer array_terminate(arr);
        
        loop i := 0; i < 10; i += 1 {
            array_push(arr, 10);
        }

        print("array is %\n", arr);
        
        loop i := 0; i < arr.len; i += 1 {
            print("index % = %\n", i, arr[i]);
        }
    }

    {
        arr: [..]Foo;
        defer array_terminate(arr);
        
        loop i := 0; i < 10; i += 1 {
            array_push(arr, {:Foo: i, i*i});
        }

        print("array is %\n", arr);
        
        loop i := 0; i < arr.len; i += 1 {
            print("index % = %\n", i, arr[i]);
        }
    }

    return 0;
}

Foo :: struct {
    i: s32;
    j: s32;
}

