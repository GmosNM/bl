#import "std/debug_allocator"

debug_allocator: std.DebugAllocator;

main :: fn () s32 {
    using std;
    // Initialize debug allocator with current context allocator.
    debug_allocator = debug_allocator_make(application_context.allocator);
    // Always cleanup at the end of the scope.
    defer debug_allocator_terminate(&debug_allocator);

    application_context.allocator = &debug_allocator;

    ptr := alloc(sizeof(s32));
    @ptr = 32;
    free(ptr);

    print("ptr   = %\n", ptr);
    print("value = %\n", @ptr);
    return 0;
}

