<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2019-01-22 Tue 22:19 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Biscuit Documentation</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Martin Dorazil" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="org.css"/>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2018 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Biscuit Documentation</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org011ccae">1. About</a>
<ul>
<li><a href="#orgc945f8b">1.1. Goals</a></li>
</ul>
</li>
<li><a href="#org2ac0f52">2. Instalation</a>
<ul>
<li><a href="#orged9c533">2.1. Requirements</a></li>
<li><a href="#org03de77f">2.2. Linux</a></li>
<li><a href="#org0d934ff">2.3. MacOS</a></li>
<li><a href="#org4e23190">2.4. <span class="todo TODO">TODO</span> Windows</a></li>
</ul>
</li>
<li><a href="#org667bce8">3. Compiler usage</a></li>
<li><a href="#orgf0bb372">4. Language</a>
<ul>
<li><a href="#orgaf38b74">4.1. Base syntax</a></li>
<li><a href="#orge5288ec">4.2. Comments</a></li>
<li><a href="#orgbf56671">4.3. Operators</a></li>
<li><a href="#org4b25c3b">4.4. Data types</a></li>
<li><a href="#org5131504">4.5. Variables</a></li>
<li><a href="#org1a2d2a8">4.6. Constants</a></li>
<li><a href="#org979c402">4.7. Functions</a></li>
<li><a href="#org9860840">4.8. Blocks</a></li>
<li><a href="#org3c210ca">4.9. Ifs</a></li>
<li><a href="#org4662fab">4.10. Loops</a></li>
<li><a href="#org5fc1ad6">4.11. Break and continue</a></li>
<li><a href="#org14ee39c">4.12. Unit tests</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-org011ccae" class="outline-2">
<h2 id="org011ccae"><span class="section-number-2">1</span> About</h2>
<div class="outline-text-2" id="text-1">
<p>
The Biscuit Language (BL) is simple imperative programming language using LLVM backend implemented in C. Language syntax and all it's features are still in development and not ready for "real" use yet. Biscuit is designed to be simple, fast and explicit.
</p>
</div>

<div id="outline-container-orgc945f8b" class="outline-3">
<h3 id="orgc945f8b"><span class="section-number-3">1.1</span> Goals</h3>
<div class="outline-text-3" id="text-1-1">
<ul class="org-ul">
<li>manual memory management</li>
<li>pointers</li>
<li>no exceptions</li>
<li>fast compilation</li>
<li>compile-time execution</li>
<li>no OOP</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org2ac0f52" class="outline-2">
<h2 id="org2ac0f52"><span class="section-number-2">2</span> Instalation</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-orged9c533" class="outline-3">
<h3 id="orged9c533"><span class="section-number-3">2.1</span> Requirements</h3>
<div class="outline-text-3" id="text-2-1">
<ul class="org-ul">
<li>git</li>
<li>CMake</li>
<li>LLVM</li>
<li><a href="https://github.com/travisdoor/bobject">bobject</a></li>
<li><a href="http://www.dyncall.org">dyncall</a></li>
<li>GCC/CLANG/Visual Studio compiler</li>
</ul>
</div>
</div>

<div id="outline-container-org03de77f" class="outline-3">
<h3 id="org03de77f"><span class="section-number-3">2.2</span> Linux</h3>
<div class="outline-text-3" id="text-2-2">
<ul class="org-ul">
<li>Install bobject.</li>
<li>Install dyncall.</li>
<li>Install LLVM dev packages.</li>
<li>Download and compile bl.</li>
</ul>

<pre class="example">
git clone https://github.com/travisdoor/bl.git
cd bl
mkdir build
cd build
cmake ..
make
</pre>

<ul class="org-ul">
<li>Add 'bl/api' and 'bl/bin' into the system PATH</li>
</ul>
</div>
</div>

<div id="outline-container-org0d934ff" class="outline-3">
<h3 id="org0d934ff"><span class="section-number-3">2.3</span> MacOS</h3>
<div class="outline-text-3" id="text-2-3">
<ul class="org-ul">
<li>Install bobject.</li>
<li>Install dyncall.</li>
<li>Install LLVM dev packages.</li>
<li>Download and compile bl.</li>
</ul>

<pre class="example">
git clone https://github.com/travisdoor/bl.git
cd bl
mkdir build
cd build
cmake ..
make
</pre>

<ul class="org-ul">
<li>Add 'bl/api' and 'bl/bin' into the system PATH</li>
</ul>
</div>
</div>

<div id="outline-container-org4e23190" class="outline-3">
<h3 id="org4e23190"><span class="section-number-3">2.4</span> <span class="todo TODO">TODO</span> Windows</h3>
</div>
</div>

<div id="outline-container-org667bce8" class="outline-2">
<h2 id="org667bce8"><span class="section-number-2">3</span> Compiler usage</h2>
<div class="outline-text-2" id="text-3">
<pre class="example">
blc [options] &lt;source-files&gt;
</pre>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Option</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">-h, -help</td>
<td class="org-left">Print usage information and exit.</td>
</tr>

<tr>
<td class="org-left">-ast-dump</td>
<td class="org-left">Print AST.</td>
</tr>

<tr>
<td class="org-left">-lex-dump</td>
<td class="org-left">Print output of lexer.</td>
</tr>

<tr>
<td class="org-left">-mir-pre-dump</td>
<td class="org-left">Print output of MIR pre analyze stage.</td>
</tr>

<tr>
<td class="org-left">-mir-post-dump</td>
<td class="org-left">Print output of MIR post analyze stage.</td>
</tr>

<tr>
<td class="org-left">-syntax-only</td>
<td class="org-left">Check syntax and exit.</td>
</tr>

<tr>
<td class="org-left">-emit-llvm</td>
<td class="org-left">Write LLVM-IR to file.</td>
</tr>

<tr>
<td class="org-left">-emit-mir</td>
<td class="org-left">Write MIR to file.</td>
</tr>

<tr>
<td class="org-left">-no-bin</td>
<td class="org-left">Don't write binary to disk.</td>
</tr>

<tr>
<td class="org-left">-no-warning</td>
<td class="org-left">Ignore all warnings.</td>
</tr>

<tr>
<td class="org-left">-verbose</td>
<td class="org-left">Verbose mode.</td>
</tr>

<tr>
<td class="org-left">-no-api</td>
<td class="org-left">Don't load internal api.</td>
</tr>

<tr>
<td class="org-left">-force-test-to-llvm</td>
<td class="org-left">Force llvm generation of unit tests.</td>
</tr>

<tr>
<td class="org-left">-run</td>
<td class="org-left">Execute 'main' method in compile time.</td>
</tr>

<tr>
<td class="org-left">-run-tests</td>
<td class="org-left">Execute all unit tests in compile time.</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-orgf0bb372" class="outline-2">
<h2 id="orgf0bb372"><span class="section-number-2">4</span> Language</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-orgaf38b74" class="outline-3">
<h3 id="orgaf38b74"><span class="section-number-3">4.1</span> Base syntax</h3>
<div class="outline-text-3" id="text-4-1">
<p>
Declarations and mutability:
</p>
<pre class="example">
&lt;name&gt;: &lt;type&gt;;              // mutable declaration
&lt;name&gt;: [type] = &lt;value&gt;;    // mutable declaration
&lt;name&gt;: [type] : &lt;value&gt;;    // immutable declaration 
</pre>

<p>
Data type is optional when we specify some value.
</p>

<div class="org-src-container">
<pre class="src src-bl"><span class="org-constant">foo</span>: <span class="org-type">s32</span>; <span class="org-comment-delimiter">// </span><span class="org-comment">data type required</span>
<span class="org-variable-name">foo </span>:= <span class="org-constant">10</span>; <span class="org-comment-delimiter">// </span><span class="org-comment">data type based on value type (in this case s32)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orge5288ec" class="outline-3">
<h3 id="orge5288ec"><span class="section-number-3">4.2</span> Comments</h3>
<div class="outline-text-3" id="text-4-2">
<div class="org-src-container">
<pre class="src src-bl"><span class="org-comment-delimiter">// </span><span class="org-comment">this is line comment</span>
<span class="org-comment-delimiter">/*</span>
<span class="org-comment"> this</span>
<span class="org-comment"> is</span>
<span class="org-comment"> multi line</span>
<span class="org-comment"> comment</span>
<span class="org-comment">*/</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbf56671" class="outline-3">
<h3 id="orgbf56671"><span class="section-number-3">4.3</span> Operators</h3>
<div class="outline-text-3" id="text-4-3">
</div>
<div id="outline-container-org5671a03" class="outline-4">
<h4 id="org5671a03"><span class="section-number-4">4.3.1</span> Binary</h4>
<div class="outline-text-4" id="text-4-3-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Symbol</th>
<th scope="col" class="org-left">Relevant for types</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">+</td>
<td class="org-left">Integers, Floats</td>
<td class="org-left">Addition.</td>
</tr>

<tr>
<td class="org-left">&minus;</td>
<td class="org-left">Integers, Floats</td>
<td class="org-left">Subtraction.</td>
</tr>

<tr>
<td class="org-left">*</td>
<td class="org-left">Integers, Floats</td>
<td class="org-left">Multiplication.</td>
</tr>

<tr>
<td class="org-left">/</td>
<td class="org-left">Integers, Floats</td>
<td class="org-left">Division.</td>
</tr>

<tr>
<td class="org-left">%</td>
<td class="org-left">Integers, Floats</td>
<td class="org-left">Remainder division.</td>
</tr>

<tr>
<td class="org-left">+=</td>
<td class="org-left">Integers, Floats</td>
<td class="org-left">Addition and assign.</td>
</tr>

<tr>
<td class="org-left">&minus;=</td>
<td class="org-left">Integers, Floats</td>
<td class="org-left">Subtraction and assign.</td>
</tr>

<tr>
<td class="org-left">*=</td>
<td class="org-left">Integers, Floats</td>
<td class="org-left">Multiplication and assign.</td>
</tr>

<tr>
<td class="org-left">/=</td>
<td class="org-left">Integers, Floats</td>
<td class="org-left">Division and assign.</td>
</tr>

<tr>
<td class="org-left">%=</td>
<td class="org-left">Integers, Floats</td>
<td class="org-left">Remainder division and assign.</td>
</tr>

<tr>
<td class="org-left">&lt;</td>
<td class="org-left">Integers, Floats</td>
<td class="org-left">Less.</td>
</tr>

<tr>
<td class="org-left">&gt;</td>
<td class="org-left">Integers, Floats</td>
<td class="org-left">Greater.</td>
</tr>

<tr>
<td class="org-left">&lt;=</td>
<td class="org-left">Integers, Floats</td>
<td class="org-left">Less or equals.</td>
</tr>

<tr>
<td class="org-left">&gt;=</td>
<td class="org-left">Integers, Floats</td>
<td class="org-left">Greater or equals.</td>
</tr>

<tr>
<td class="org-left">==</td>
<td class="org-left">Integers, Floats, Booleans</td>
<td class="org-left">Equals.</td>
</tr>

<tr>
<td class="org-left">&amp;&amp;</td>
<td class="org-left">Booleans</td>
<td class="org-left">Logical AND</td>
</tr>

<tr>
<td class="org-left">&vert;&vert;</td>
<td class="org-left">Booleans</td>
<td class="org-left">Logical</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org765d5cd" class="outline-4">
<h4 id="org765d5cd"><span class="section-number-4">4.3.2</span> <span class="todo TODO">TODO</span> Unary</h4>
</div>
</div>

<div id="outline-container-org4b25c3b" class="outline-3">
<h3 id="org4b25c3b"><span class="section-number-3">4.4</span> Data types</h3>
<div class="outline-text-3" id="text-4-4">
</div>
<div id="outline-container-orga5b9118" class="outline-4">
<h4 id="orga5b9118"><span class="section-number-4">4.4.1</span> Fundamental data types</h4>
<div class="outline-text-4" id="text-4-4-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Name</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">s8</td>
<td class="org-left">Signed 8-bit number.</td>
</tr>

<tr>
<td class="org-left">s16</td>
<td class="org-left">Signed 16-bit number.</td>
</tr>

<tr>
<td class="org-left">s32</td>
<td class="org-left">Signed 32-bit number.</td>
</tr>

<tr>
<td class="org-left">s64</td>
<td class="org-left">Signed 64-bit number.</td>
</tr>

<tr>
<td class="org-left">u8</td>
<td class="org-left">Unsigned 8-bit number.</td>
</tr>

<tr>
<td class="org-left">u16</td>
<td class="org-left">Unsigned 16-bit number.</td>
</tr>

<tr>
<td class="org-left">u32</td>
<td class="org-left">Unsigned 32-bit number.</td>
</tr>

<tr>
<td class="org-left">u64</td>
<td class="org-left">Unsigned 64-bit number.</td>
</tr>

<tr>
<td class="org-left">usize</td>
<td class="org-left">Unsigned 64-bit size.</td>
</tr>

<tr>
<td class="org-left">bool</td>
<td class="org-left">Boolean. (true/fasle)</td>
</tr>

<tr>
<td class="org-left">f32</td>
<td class="org-left">32-bit floating point number</td>
</tr>

<tr>
<td class="org-left">f64</td>
<td class="org-left">64-bit floating point number.</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org3772338" class="outline-4">
<h4 id="org3772338"><span class="section-number-4">4.4.2</span> Pointers</h4>
<div class="outline-text-4" id="text-4-4-2">
<p>
Represents the address of some allocated data.
</p>

<div class="org-src-container">
<pre class="src src-bl"><span class="linenr">1: </span><span class="org-preprocessor">#load</span> <span class="org-string">"std/debug.bl"</span>
<span class="linenr">2: </span>
<span class="linenr">3: </span><span class="org-preprocessor">#test</span> <span class="org-string">"pointers"</span> {
<span class="linenr">4: </span>  <span class="org-variable-name">i </span>:= <span class="org-constant">666</span>;
<span class="linenr">5: </span>  <span class="org-constant">i_ptr</span> : *<span class="org-type">s32</span> = &amp;i; <span class="org-comment-delimiter">// </span><span class="org-comment">taking the address of 'i' variable and set 'i_ptr'</span>
<span class="linenr">6: </span>  <span class="org-variable-name">j </span>:= *i_ptr;       <span class="org-comment-delimiter">// </span><span class="org-comment">pointer dereferencing</span>
<span class="linenr">7: </span>
<span class="linenr">8: </span>  <span class="org-function-name">assert</span>(j == i);
<span class="linenr">9: </span>};
</pre>
</div>
</div>
</div>

<div id="outline-container-org1887c60" class="outline-4">
<h4 id="org1887c60"><span class="section-number-4">4.4.3</span> Function type</h4>
<div class="outline-text-4" id="text-4-4-3">
<p>
Type of function. 
</p>

<pre class="example">
fn ([arguments]) [return type]
</pre>

<div class="org-src-container">
<pre class="src src-bl"><span class="org-comment-delimiter">// </span><span class="org-comment">type of function without arguments and without return value</span>
<span class="org-keyword">fn</span> ()             

<span class="org-comment-delimiter">// </span><span class="org-comment">type of function without arguments, returning value of 's32' type</span>
<span class="org-keyword">fn</span> () <span class="org-type">s32</span>

<span class="org-comment-delimiter">// </span><span class="org-comment">type of function with two arguments, returning value of 's32' type</span>
<span class="org-keyword">fn</span> (<span class="org-type">s32</span>, <span class="org-type">bool</span>) <span class="org-type">s32</span> 
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org5131504" class="outline-3">
<h3 id="org5131504"><span class="section-number-3">4.5</span> Variables</h3>
<div class="outline-text-3" id="text-4-5">
<p>
Example of variable allocated on stack.
</p>

<pre class="example">
&lt;name&gt; : &lt;type&gt;;
&lt;name&gt; : [type] = &lt;value&gt;;
</pre>

<div class="org-src-container">
<pre class="src src-bl"><span class="linenr">1: </span><span class="org-preprocessor">#test</span> <span class="org-string">"variables"</span> {
<span class="linenr">2: </span>  <span class="org-constant">i</span> : <span class="org-type">s32</span> = <span class="org-constant">666</span>; 
<span class="linenr">3: </span>  <span class="org-variable-name">j </span>:= <span class="org-constant">666</span>; <span class="org-comment-delimiter">// </span><span class="org-comment">type is optional here</span>
<span class="linenr">4: </span>};
</pre>
</div>
</div>
</div>

<div id="outline-container-org1a2d2a8" class="outline-3">
<h3 id="org1a2d2a8"><span class="section-number-3">4.6</span> Constants</h3>
<div class="outline-text-3" id="text-4-6">
<p>
Example of constant allocated on stack. Constant must be initialized and cannot be changed later.
</p>

<pre class="example">
&lt;name&gt; : [type] : &lt;value&gt;;
</pre>

<div class="org-src-container">
<pre class="src src-bl"><span class="linenr">1: </span><span class="org-preprocessor">#test</span> <span class="org-string">"constants"</span> {
<span class="linenr">2: </span>  <span class="org-constant">i</span> : <span class="org-type">s32</span> : <span class="org-constant">666</span>; 
<span class="linenr">3: </span>  <span class="org-constant">j</span> :: <span class="org-constant">666</span>; <span class="org-comment-delimiter">// </span><span class="org-comment">type is optional here</span>
<span class="linenr">4: </span>};
</pre>
</div>
</div>
</div>

<div id="outline-container-org979c402" class="outline-3">
<h3 id="org979c402"><span class="section-number-3">4.7</span> Functions</h3>
<div class="outline-text-3" id="text-4-7">
</div>
<div id="outline-container-orgc96e911" class="outline-4">
<h4 id="orgc96e911"><span class="section-number-4">4.7.1</span> Named function</h4>
<div class="outline-text-4" id="text-4-7-1">
<p>
Examples of named function.
</p>

<pre class="example">
&lt;name&gt; : [type] : fn ([args]) [return type] {[body]};
</pre>

<div class="org-src-container">
<pre class="src src-bl"><span class="linenr"> 1: </span><span class="org-preprocessor">#test</span> <span class="org-string">"named functions"</span> {
<span class="linenr"> 2: </span>  <span class="org-function-name">foo</span> :: <span class="org-keyword">fn</span> () {
<span class="linenr"> 3: </span>  };
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span>  <span class="org-function-name">bar</span> :: <span class="org-keyword">fn</span> (i: <span class="org-type">s32</span>) {
<span class="linenr"> 6: </span>    i; <span class="org-comment-delimiter">// </span><span class="org-comment">use i</span>
<span class="linenr"> 7: </span>  };
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  <span class="org-function-name">baz</span> :: <span class="org-keyword">fn</span> (i: <span class="org-type">s32</span>) <span class="org-type">s32</span> {
<span class="linenr">10: </span>    <span class="org-keyword">return</span> i;
<span class="linenr">11: </span>  };
<span class="linenr">12: </span>
<span class="linenr">13: </span>  <span class="org-function-name">foo</span>();
<span class="linenr">14: </span>  <span class="org-function-name">bar</span>(<span class="org-constant">666</span>);
<span class="linenr">15: </span>  <span class="org-variable-name">j </span>:= <span class="org-function-name">baz</span>(<span class="org-constant">666</span>);
<span class="linenr">16: </span>};
</pre>
</div>
</div>
</div>

<div id="outline-container-org8a856bc" class="outline-4">
<h4 id="org8a856bc"><span class="section-number-4">4.7.2</span> Anonymous function</h4>
<div class="outline-text-4" id="text-4-7-2">
<p>
Example of anonymous function.
</p>

<div class="org-src-container">
<pre class="src src-bl"><span class="linenr">1: </span><span class="org-preprocessor">#test</span> <span class="org-string">"anonymous function"</span> {
<span class="linenr">2: </span>  <span class="org-function-name">i</span> := <span class="org-keyword">fn</span> (i: <span class="org-type">s32</span>) <span class="org-type">s32</span> {
<span class="linenr">3: </span>    <span class="org-keyword">return</span> i;
<span class="linenr">4: </span>  } (<span class="org-constant">666</span>);
<span class="linenr">5: </span>};
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org9860840" class="outline-3">
<h3 id="org9860840"><span class="section-number-3">4.8</span> Blocks</h3>
<div class="outline-text-3" id="text-4-8">
<p>
Block can limit scope of the variable.
</p>

<div class="org-src-container">
<pre class="src src-bl"><span class="linenr"> 1: </span><span class="org-preprocessor">#load</span> <span class="org-string">"std/debug.bl"</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span class="org-preprocessor">#test</span> <span class="org-string">"blocks"</span> {
<span class="linenr"> 4: </span>  <span class="org-variable-name">a </span>:= <span class="org-constant">10</span>;
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span>  {
<span class="linenr"> 7: </span>    <span class="org-comment-delimiter">// </span><span class="org-comment">this variable lives only in this scope</span>
<span class="linenr"> 8: </span>    <span class="org-variable-name">i </span>:= a;
<span class="linenr"> 9: </span>    <span class="org-function-name">assert</span>(i == <span class="org-constant">10</span>);
<span class="linenr">10: </span>  }
<span class="linenr">11: </span>
<span class="linenr">12: </span>  <span class="org-variable-name">i </span>:= <span class="org-constant">20</span>;
<span class="linenr">13: </span>  <span class="org-function-name">assert</span>(i == <span class="org-constant">20</span>);
<span class="linenr">14: </span>};
</pre>
</div>
</div>
</div>

<div id="outline-container-org3c210ca" class="outline-3">
<h3 id="org3c210ca"><span class="section-number-3">4.9</span> Ifs</h3>
<div class="outline-text-3" id="text-4-9">
<p>
If - else base syntax:
</p>
<pre class="example">
if &lt;condition&gt; {[then block]} [else {[else block]}]
</pre>

<div class="org-src-container">
<pre class="src src-bl"><span class="linenr"> 1: </span><span class="org-preprocessor">#test</span> <span class="org-string">"ifs"</span> {
<span class="linenr"> 2: </span>  <span class="org-variable-name">b </span>:= <span class="org-constant">true</span>;
<span class="linenr"> 3: </span>  <span class="org-keyword">if</span> b {
<span class="linenr"> 4: </span>  } <span class="org-keyword">else</span> {
<span class="linenr"> 5: </span>    <span class="org-keyword">unreachable</span>;
<span class="linenr"> 6: </span>  }
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  <span class="org-variable-name">i </span>:= <span class="org-constant">10</span>;
<span class="linenr"> 9: </span>  <span class="org-keyword">if</span> i != <span class="org-constant">10</span> {
<span class="linenr">10: </span>    <span class="org-keyword">unreachable</span>;
<span class="linenr">11: </span>  } 
<span class="linenr">12: </span>};
</pre>
</div>
</div>
</div>

<div id="outline-container-org4662fab" class="outline-3">
<h3 id="org4662fab"><span class="section-number-3">4.10</span> Loops</h3>
<div class="outline-text-3" id="text-4-10">
<p>
Loop base syntax:
</p>
<pre class="example">
loop {[block]} 
loop &lt;condition&gt; {[block]} 
loop &lt;initialization&gt;; &lt;condition&gt;; &lt;increment&gt; {[block]} 
</pre>

<div class="org-src-container">
<pre class="src src-bl"><span class="linenr"> 1: </span><span class="org-preprocessor">#test</span> <span class="org-string">"simple loops"</span> {
<span class="linenr"> 2: </span>  <span class="org-constant">count</span> :: <span class="org-constant">10</span>;
<span class="linenr"> 3: </span>  <span class="org-variable-name">i </span>:= <span class="org-constant">0</span>;
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span>  <span class="org-keyword">loop</span> {
<span class="linenr"> 6: </span>    i += <span class="org-constant">1</span>;
<span class="linenr"> 7: </span>    <span class="org-keyword">if</span> i == count { <span class="org-keyword">break</span>; }
<span class="linenr"> 8: </span>  }
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>  i = <span class="org-constant">0</span>;
<span class="linenr">11: </span>  <span class="org-keyword">loop</span> i &lt; count {
<span class="linenr">12: </span>    i += <span class="org-constant">1</span>;
<span class="linenr">13: </span>  }
<span class="linenr">14: </span>
<span class="linenr">15: </span>  <span class="org-keyword">loop</span> j := <span class="org-constant">0</span>; j &lt; count; j += <span class="org-constant">1</span> {
<span class="linenr">16: </span>    <span class="org-comment-delimiter">// </span><span class="org-comment">do something amazing here</span>
<span class="linenr">17: </span>  }
<span class="linenr">18: </span>};
</pre>
</div>
</div>
</div>

<div id="outline-container-org5fc1ad6" class="outline-3">
<h3 id="org5fc1ad6"><span class="section-number-3">4.11</span> Break and continue</h3>
<div class="outline-text-3" id="text-4-11">
<p>
Break/continue statements can be used in loops to control execution flow.
</p>

<p>
Examples:
</p>
<div class="org-src-container">
<pre class="src src-bl"><span class="linenr"> 1: </span><span class="org-preprocessor">#test</span> <span class="org-string">"break and continue"</span> {
<span class="linenr"> 2: </span>  <span class="org-variable-name">i </span>:= <span class="org-constant">0</span>;
<span class="linenr"> 3: </span>  <span class="org-keyword">loop</span> {
<span class="linenr"> 4: </span>    i += <span class="org-constant">1</span>;
<span class="linenr"> 5: </span>    <span class="org-keyword">if</span> i == <span class="org-constant">10</span> { 
<span class="linenr"> 6: </span>      <span class="org-keyword">break</span>; 
<span class="linenr"> 7: </span>    } <span class="org-keyword">else</span> {
<span class="linenr"> 8: </span>      <span class="org-keyword">continue</span>;
<span class="linenr"> 9: </span>    }
<span class="linenr">10: </span>  }
<span class="linenr">11: </span>};
</pre>
</div>
</div>
</div>

<div id="outline-container-org14ee39c" class="outline-3">
<h3 id="org14ee39c"><span class="section-number-3">4.12</span> Unit tests</h3>
<div class="outline-text-3" id="text-4-12">
<p>
Biscuit compiler supports unit testing by default.
</p>

<p>
Create unit test case:
</p>
<div class="org-src-container">
<pre class="src src-bl"><span class="org-preprocessor">#load</span> <span class="org-string">"std/debug.bl"</span>

<span class="org-comment-delimiter">// </span><span class="org-comment">function to be tested</span>
<span class="org-function-name">add</span> :: <span class="org-keyword">fn</span> (a: <span class="org-type">s32</span>, b: <span class="org-type">s32</span>) <span class="org-type">s32</span> {
  <span class="org-keyword">return</span> a + b;
};

<span class="org-preprocessor">#test</span> <span class="org-string">"this is OK"</span> {
  <span class="org-function-name">assert</span>(<span class="org-function-name">add</span>(<span class="org-constant">10</span>, <span class="org-constant">20</span>) == <span class="org-constant">30</span>); 
};

<span class="org-preprocessor">#test</span> <span class="org-string">"this is not OK"</span> {
  <span class="org-function-name">assert</span>(<span class="org-function-name">add</span>(<span class="org-constant">10</span>, <span class="org-constant">20</span>) != <span class="org-constant">30</span>); 
};
</pre>
</div>

<p>
Run tests:
</p>
<pre class="example">
$ blc -no-bin -run-tests test.bl
compiler version: 0.4.0 (pre-alpha)
compile assembly: test

executing test cases...
[ PASSED ] (1/2) /Users/travis/Desktop/test.bl:8 'this is my test'
error: execution reached unreachable code
/Users/travis/Develop/bl/api/std/debug.bl:31:5 
  30 |   if (!cond) {
  31 |     unreachable;
     |     ^^^^^^^^^^^
  32 |   }
/Users/travis/Desktop/test.bl:13:12 
  12 |    #test "this is not OK" {
  13 |      assert(add(10, 20) != 30); 
     |            ^
  14 |    };
[ FAILED ] (2/2) /Users/travis/Desktop/test.bl:12 'this is not OK'
testing done, 1 of 2 failed

compiled 47 lines in 0.001551 seconds

finished at 22-01-2019 21:28:10
done
</pre>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Martin Dorazil</p>
<p class="date">Created: 2019-01-22 Tue 22:19</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
