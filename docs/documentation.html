<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Biscuit Documentation</title>
<!-- 2019-02-25 Po 00:17 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="Martin Dorazil" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/styles/readtheorg/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/styles/readtheorg/css/readtheorg.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/styles/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/styles/readtheorg/js/readtheorg.js"></script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Biscuit Documentation</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">Instalation</a>
<ul>
<li><a href="#sec-1-1">Requirements</a></li>
<li><a href="#sec-1-2">Linux</a></li>
<li><a href="#sec-1-3">MacOS</a></li>
<li><a href="#sec-1-4"><span class="todo TODO">TODO</span> Windows</a></li>
</ul>
</li>
<li><a href="#sec-2">Compiler usage</a></li>
<li><a href="#sec-3">Language</a>
<ul>
<li><a href="#sec-3-1">Base syntax</a></li>
<li><a href="#sec-3-2">Comments</a></li>
<li><a href="#sec-3-3">Operators</a>
<ul>
<li><a href="#sec-3-3-1">Binary</a></li>
<li><a href="#sec-3-3-2">Unary</a></li>
<li><a href="#sec-3-3-3">Special</a></li>
</ul>
</li>
<li><a href="#sec-3-4">Data types</a>
<ul>
<li><a href="#sec-3-4-1">Fundamental data types</a></li>
<li><a href="#sec-3-4-2">Pointers</a></li>
<li><a href="#sec-3-4-3">Arrays</a></li>
<li><a href="#sec-3-4-4">Strings</a></li>
<li><a href="#sec-3-4-5"><span class="todo TODO">TODO</span> Array slice</a></li>
<li><a href="#sec-3-4-6">Structures</a></li>
<li><a href="#sec-3-4-7"><span class="todo TODO">TODO</span> Enums</a></li>
<li><a href="#sec-3-4-8"><span class="todo TODO">TODO</span> Type aliasing</a></li>
<li><a href="#sec-3-4-9">Function type</a></li>
<li><a href="#sec-3-4-10">Type casting</a></li>
</ul>
</li>
<li><a href="#sec-3-5">Literals</a>
<ul>
<li><a href="#sec-3-5-1">Simple literals</a></li>
<li><a href="#sec-3-5-2">Numeric literals</a></li>
</ul>
</li>
<li><a href="#sec-3-6">Variables</a></li>
<li><a href="#sec-3-7">Constants</a></li>
<li><a href="#sec-3-8">Functions</a>
<ul>
<li><a href="#sec-3-8-1">Named function</a></li>
<li><a href="#sec-3-8-2">Anonymous function</a></li>
<li><a href="#sec-3-8-3">Functions with variable argument count</a></li>
</ul>
</li>
<li><a href="#sec-3-9">Blocks</a></li>
<li><a href="#sec-3-10">Ifs</a></li>
<li><a href="#sec-3-11">Loops</a></li>
<li><a href="#sec-3-12">Break and continue</a></li>
<li><a href="#sec-3-13">Unit tests</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">Instalation</h2>
<div class="outline-text-2" id="text-1">
</div><div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1">Requirements</h3>
<div class="outline-text-3" id="text-1-1">
<ul class="org-ul">
<li>git
</li>
<li>CMake
</li>
<li>LLVM
</li>
<li><a href="https://github.com/travisdoor/bobject">bobject</a>
</li>
<li><a href="http://www.dyncall.org">dyncall</a>
</li>
<li>GCC/CLANG/Visual Studio compiler
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-2" class="outline-3">
<h3 id="sec-1-2">Linux</h3>
<div class="outline-text-3" id="text-1-2">
<ul class="org-ul">
<li>Install bobject.
</li>
<li>Install dyncall.
</li>
<li>Install LLVM dev packages.
</li>
<li>Download and compile bl.
</li>
</ul>

<pre class="example">
git clone https://github.com/travisdoor/bl.git
cd bl
mkdir build
cd build
cmake ..
make
</pre>

<ul class="org-ul">
<li>Add 'bl/api' and 'bl/bin' into the system PATH
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-3" class="outline-3">
<h3 id="sec-1-3">MacOS</h3>
<div class="outline-text-3" id="text-1-3">
<ul class="org-ul">
<li>Install bobject.
</li>
<li>Install dyncall.
</li>
<li>Install LLVM dev packages.
</li>
<li>Download and compile bl.
</li>
</ul>

<pre class="example">
git clone https://github.com/travisdoor/bl.git
cd bl
mkdir build
cd build
cmake ..
make
</pre>

<ul class="org-ul">
<li>Add 'bl/api' and 'bl/bin' into the system PATH
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-4" class="outline-3">
<h3 id="sec-1-4"><span class="todo TODO">TODO</span> Windows</h3>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">Compiler usage</h2>
<div class="outline-text-2" id="text-2">
<pre class="example">
blc [options] &lt;source-files&gt;
</pre>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">Option</th>
<th scope="col" class="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">-h, -help</td>
<td class="left">Print usage information and exit.</td>
</tr>

<tr>
<td class="left">-ast-dump</td>
<td class="left">Print AST.</td>
</tr>

<tr>
<td class="left">-lex-dump</td>
<td class="left">Print output of lexer.</td>
</tr>

<tr>
<td class="left">-mir-pre-dump</td>
<td class="left">Print output of MIR pre analyze stage.</td>
</tr>

<tr>
<td class="left">-mir-post-dump</td>
<td class="left">Print output of MIR post analyze stage.</td>
</tr>

<tr>
<td class="left">-syntax-only</td>
<td class="left">Check syntax and exit.</td>
</tr>

<tr>
<td class="left">-emit-llvm</td>
<td class="left">Write LLVM-IR to file.</td>
</tr>

<tr>
<td class="left">-emit-mir</td>
<td class="left">Write MIR to file.</td>
</tr>

<tr>
<td class="left">-no-bin</td>
<td class="left">Don't write binary to disk.</td>
</tr>

<tr>
<td class="left">-no-warning</td>
<td class="left">Ignore all warnings.</td>
</tr>

<tr>
<td class="left">-verbose</td>
<td class="left">Verbose mode.</td>
</tr>

<tr>
<td class="left">-no-api</td>
<td class="left">Don't load internal api.</td>
</tr>

<tr>
<td class="left">-force-test-to-llvm</td>
<td class="left">Force llvm generation of unit tests.</td>
</tr>

<tr>
<td class="left">-run</td>
<td class="left">Execute 'main' method in compile time.</td>
</tr>

<tr>
<td class="left">-run-tests</td>
<td class="left">Execute all unit tests in compile time.</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3">Language</h2>
<div class="outline-text-2" id="text-3">
</div><div id="outline-container-sec-3-1" class="outline-3">
<h3 id="sec-3-1">Base syntax</h3>
<div class="outline-text-3" id="text-3-1">
<p>
Basicly every construct in Biscuit language fallows the same rules of declaration. We define name of the entity, type and optionally some initial value.
</p>

<p>
Declarations and mutability:
</p>
<pre class="example">
&lt;name&gt;: &lt;type&gt;;              // mutable declaration
&lt;name&gt;: [type] = &lt;value&gt;;    // mutable declaration
&lt;name&gt;: [type] : &lt;value&gt;;    // immutable declaration
</pre>

<p>
Data type is optional when we specify some value.
</p>

<div class="org-src-container">

<pre class="src src-bl"><span style="color: #D0372D;">foo</span>: <span style="color: #6434A3;">s32</span>; <span style="color: #8D8D84; font-style: italic;">// data type required</span>
<span style="color: #BA36A5;">foo </span>:= <span style="color: #D0372D;">10</span>; <span style="color: #8D8D84; font-style: italic;">// data type based on value type (in this case s32)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-3-2" class="outline-3">
<h3 id="sec-3-2">Comments</h3>
<div class="outline-text-3" id="text-3-2">
<div class="org-src-container">

<pre class="src src-bl"><span style="color: #8D8D84; font-style: italic;">// this is line comment</span>
<span style="color: #8D8D84; font-style: italic;">/*</span>
<span style="color: #8D8D84; font-style: italic;"> this</span>
<span style="color: #8D8D84; font-style: italic;"> is</span>
<span style="color: #8D8D84; font-style: italic;"> multi line</span>
<span style="color: #8D8D84; font-style: italic;"> comment</span>
<span style="color: #8D8D84; font-style: italic;">*/</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-3-3" class="outline-3">
<h3 id="sec-3-3">Operators</h3>
<div class="outline-text-3" id="text-3-3">
<p>
There is no operator overloading in Biscuit.
</p>
</div>

<div id="outline-container-sec-3-3-1" class="outline-4">
<h4 id="sec-3-3-1">Binary</h4>
<div class="outline-text-4" id="text-3-3-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">Symbol</th>
<th scope="col" class="left">Relevant for types</th>
<th scope="col" class="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">+</td>
<td class="left">Integers, Floats</td>
<td class="left">Addition.</td>
</tr>

<tr>
<td class="left">&minus;</td>
<td class="left">Integers, Floats</td>
<td class="left">Subtraction.</td>
</tr>

<tr>
<td class="left">*</td>
<td class="left">Integers, Floats</td>
<td class="left">Multiplication.</td>
</tr>

<tr>
<td class="left">/</td>
<td class="left">Integers, Floats</td>
<td class="left">Division.</td>
</tr>

<tr>
<td class="left">%</td>
<td class="left">Integers, Floats</td>
<td class="left">Remainder division.</td>
</tr>

<tr>
<td class="left">+=</td>
<td class="left">Integers, Floats</td>
<td class="left">Addition and assign.</td>
</tr>

<tr>
<td class="left">&minus;=</td>
<td class="left">Integers, Floats</td>
<td class="left">Subtraction and assign.</td>
</tr>

<tr>
<td class="left">*=</td>
<td class="left">Integers, Floats</td>
<td class="left">Multiplication and assign.</td>
</tr>

<tr>
<td class="left">/=</td>
<td class="left">Integers, Floats</td>
<td class="left">Division and assign.</td>
</tr>

<tr>
<td class="left">%=</td>
<td class="left">Integers, Floats</td>
<td class="left">Remainder division and assign.</td>
</tr>

<tr>
<td class="left">&lt;</td>
<td class="left">Integers, Floats</td>
<td class="left">Less.</td>
</tr>

<tr>
<td class="left">&gt;</td>
<td class="left">Integers, Floats</td>
<td class="left">Greater.</td>
</tr>

<tr>
<td class="left">&lt;=</td>
<td class="left">Integers, Floats</td>
<td class="left">Less or equals.</td>
</tr>

<tr>
<td class="left">&gt;=</td>
<td class="left">Integers, Floats</td>
<td class="left">Greater or equals.</td>
</tr>

<tr>
<td class="left">==</td>
<td class="left">Integers, Floats, Booleans</td>
<td class="left">Equals.</td>
</tr>

<tr>
<td class="left">&amp;&amp;</td>
<td class="left">Booleans</td>
<td class="left">Logical AND</td>
</tr>

<tr>
<td class="left">&vert;&vert;</td>
<td class="left">Booleans</td>
<td class="left">Logical</td>
</tr>
</tbody>
</table>

<p>
Usage:
</p>
<pre class="example">
&lt;expr&gt; &lt;op&gt; &lt;expr&gt;
</pre>
</div>
</div>

<div id="outline-container-sec-3-3-2" class="outline-4">
<h4 id="sec-3-3-2">Unary</h4>
<div class="outline-text-4" id="text-3-3-2">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">Symbol</th>
<th scope="col" class="left">Relevant for types</th>
<th scope="col" class="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">+</td>
<td class="left">Integers, Floats</td>
<td class="left">Positive value.</td>
</tr>

<tr>
<td class="left">&minus;</td>
<td class="left">Integers, Floats</td>
<td class="left">Negative value.</td>
</tr>

<tr>
<td class="left">&and;</td>
<td class="left">Pointers</td>
<td class="left">Pointer dereference.</td>
</tr>

<tr>
<td class="left">&amp;</td>
<td class="left">Allocated value</td>
<td class="left">Address of.</td>
</tr>
</tbody>
</table>

<p>
Usage:
</p>
<pre class="example">
&lt;op&gt; &lt;expr&gt;
</pre>
</div>
</div>

<div id="outline-container-sec-3-3-3" class="outline-4">
<h4 id="sec-3-3-3">Special</h4>
<div class="outline-text-4" id="text-3-3-3">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">Symbol</th>
<th scope="col" class="left">Relevant for types</th>
<th scope="col" class="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">sizeof</td>
<td class="left">Any</td>
<td class="left">Determinates size in bytes.</td>
</tr>

<tr>
<td class="left">alignof</td>
<td class="left">Any</td>
<td class="left">Determinates alignment of type.</td>
</tr>
</tbody>
</table>

<p>
Example:
</p>
<div class="org-src-container">

<pre class="src src-bl"><span class="linenr">1: </span><span style="color: #808080;">#load</span> <span style="color: #008000;">"std/core.bl"</span>
<span class="linenr">2: </span>
<span class="linenr">3: </span><span style="color: #808080;">#test</span> <span style="color: #008000;">"special operators"</span> {
<span class="linenr">4: </span>  <span style="color: #BA36A5;">s </span>:= <span style="color: #0000FF;">sizeof</span>(<span style="color: #6434A3;">s32</span>);  <span style="color: #8D8D84; font-style: italic;">// size in bytes</span>
<span class="linenr">5: </span>  <span style="color: #BA36A5;">a </span>:= <span style="color: #0000FF;">alignof</span>(<span style="color: #6434A3;">s32</span>); <span style="color: #8D8D84; font-style: italic;">// alignment</span>
<span class="linenr">6: </span>};
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-3-4" class="outline-3">
<h3 id="sec-3-4">Data types</h3>
<div class="outline-text-3" id="text-3-4">
</div><div id="outline-container-sec-3-4-1" class="outline-4">
<h4 id="sec-3-4-1">Fundamental data types</h4>
<div class="outline-text-4" id="text-3-4-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">Name</th>
<th scope="col" class="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">s8</td>
<td class="left">Signed 8-bit number.</td>
</tr>

<tr>
<td class="left">s16</td>
<td class="left">Signed 16-bit number.</td>
</tr>

<tr>
<td class="left">s32</td>
<td class="left">Signed 32-bit number.</td>
</tr>

<tr>
<td class="left">s64</td>
<td class="left">Signed 64-bit number.</td>
</tr>

<tr>
<td class="left">u8</td>
<td class="left">Unsigned 8-bit number.</td>
</tr>

<tr>
<td class="left">u16</td>
<td class="left">Unsigned 16-bit number.</td>
</tr>

<tr>
<td class="left">u32</td>
<td class="left">Unsigned 32-bit number.</td>
</tr>

<tr>
<td class="left">u64</td>
<td class="left">Unsigned 64-bit number.</td>
</tr>

<tr>
<td class="left">usize</td>
<td class="left">Unsigned 64-bit size.</td>
</tr>

<tr>
<td class="left">bool</td>
<td class="left">Boolean. (true/false)</td>
</tr>

<tr>
<td class="left">f32</td>
<td class="left">32-bit floating point number</td>
</tr>

<tr>
<td class="left">f64</td>
<td class="left">64-bit floating point number.</td>
</tr>

<tr>
<td class="left">string</td>
<td class="left">String slice.</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-sec-3-4-2" class="outline-4">
<h4 id="sec-3-4-2">Pointers</h4>
<div class="outline-text-4" id="text-3-4-2">
<p>
Represents the address of some allocated data.
</p>

<pre class="example">
*&lt;T&gt;
</pre>

<p>
Example:
</p>
<div class="org-src-container">

<pre class="src src-bl"><span class="linenr">1: </span><span style="color: #808080;">#load</span> <span style="color: #008000;">"std/debug.bl"</span>
<span class="linenr">2: </span>
<span class="linenr">3: </span><span style="color: #808080;">#test</span> <span style="color: #008000;">"pointers"</span> {
<span class="linenr">4: </span>  <span style="color: #BA36A5;">i </span>:= <span style="color: #D0372D;">666</span>;
<span class="linenr">5: </span>  <span style="color: #D0372D;">i_ptr</span> : *<span style="color: #6434A3;">s32</span> = &amp;i; <span style="color: #8D8D84; font-style: italic;">// taking the address of 'i' variable and set 'i_ptr'</span>
<span class="linenr">6: </span>  <span style="color: #BA36A5;">j </span>:= ^i_ptr;       <span style="color: #8D8D84; font-style: italic;">// pointer dereferencing</span>
<span class="linenr">7: </span>
<span class="linenr">8: </span>  <span style="color: #006699;">assert</span>(j == i);
<span class="linenr">9: </span>};
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-3-4-3" class="outline-4">
<h4 id="sec-3-4-3">Arrays</h4>
<div class="outline-text-4" id="text-3-4-3">
<p>
Array is aggregate type of multiple values of the same type.
</p>
<pre class="example">
[&lt;size&gt;] &lt;T&gt;
</pre>

<p>
Arrays can be inline initialized with compound block, type is required. Zero initializer can be used for zero initialization of whole array storage, otherwise we must specify value for every element in an array.
</p>
<pre class="example">
&lt;T&gt; {[val], ...}
</pre>

<p>
Example:
</p>
<div class="org-src-container">

<pre class="src src-bl"><span class="linenr"> 1: </span><span style="color: #808080;">#test</span> <span style="color: #008000;">"array type"</span> {
<span class="linenr"> 2: </span>  <span style="color: #D0372D;">arr1</span> : [<span style="color: #D0372D;">10</span>] <span style="color: #6434A3;">s32</span>; <span style="color: #8D8D84; font-style: italic;">// declare uninitialized array variable </span>
<span class="linenr"> 3: </span>  arr1[<span style="color: #D0372D;">0</span>] = <span style="color: #D0372D;">666</span>;
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span>  arr1.len; <span style="color: #8D8D84; font-style: italic;">// yields array element count (usize)</span>
<span class="linenr"> 6: </span>  arr1.ptr; <span style="color: #8D8D84; font-style: italic;">// yields pointer to first element '&amp;arr[0]'</span>
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  <span style="color: #8D8D84; font-style: italic;">// inline initialization of array type</span>
<span class="linenr"> 9: </span>  <span style="color: #BA36A5;">arr2 </span>:= [<span style="color: #D0372D;">10</span>]<span style="color: #6434A3;">s32</span> { <span style="color: #D0372D;">0</span> };         <span style="color: #8D8D84; font-style: italic;">// initialize whole array to 0</span>
<span class="linenr">10: </span>  <span style="color: #BA36A5;">arr3 </span>:= [<span style="color: #D0372D;">4</span>]<span style="color: #6434A3;">s32</span> { <span style="color: #D0372D;">1</span>, <span style="color: #D0372D;">2</span>, <span style="color: #D0372D;">3</span>, <span style="color: #D0372D;">4</span> }; <span style="color: #8D8D84; font-style: italic;">// initialize array to the sequence 1, 2, 3, 4</span>
<span class="linenr">11: </span>};
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-3-4-4" class="outline-4">
<h4 id="sec-3-4-4">Strings</h4>
<div class="outline-text-4" id="text-3-4-4">
<p>
String type in biscuit is slice containting pointer to string data and string lenght. String literals are zero terimated.
</p>

<p>
Example:
</p>
<div class="org-src-container">

<pre class="src src-bl"><span class="linenr">1: </span><span style="color: #808080;">#test</span> <span style="color: #008000;">"string type"</span> {
<span class="linenr">2: </span>  <span style="color: #D0372D;">msg</span> : <span style="color: #6434A3;">string</span> = <span style="color: #008000;">"Hello world\n"</span>; 
<span class="linenr">3: </span>  msg.len; <span style="color: #8D8D84; font-style: italic;">// character count of the string</span>
<span class="linenr">4: </span>  msg.ptr; <span style="color: #8D8D84; font-style: italic;">// pointer to the string content</span>
<span class="linenr">5: </span>};
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-3-4-5" class="outline-4">
<h4 id="sec-3-4-5"><span class="todo TODO">TODO</span> Array slice</h4>
<div class="outline-text-4" id="text-3-4-5">
<p>
Array slice is consist of pointer to the first array element and array lenght. 
</p>

<p>
Syntax:
</p>
<pre class="example">
[] &lt;type&gt;
</pre>

<p>
Example:
</p>
<div class="org-src-container">

<pre class="src src-bl"><span class="linenr">1: </span><span style="color: #808080;">#test</span> <span style="color: #008000;">"array reference"</span> {
<span class="linenr">2: </span>  <span style="color: #D0372D;">arr</span>     : [<span style="color: #D0372D;">10</span>]<span style="color: #6434A3;">s32</span>; <span style="color: #8D8D84; font-style: italic;">// uninitialized s32 array</span>
<span class="linenr">3: </span>  <span style="color: #D0372D;">arr_ref</span> : []<span style="color: #6434A3;">s32</span>;   <span style="color: #8D8D84; font-style: italic;">// reference to array of any size with s32 elements</span>
<span class="linenr">4: </span>
<span class="linenr">5: </span>  <span style="color: #8D8D84; font-style: italic;">// TODO</span>
<span class="linenr">6: </span>};
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-3-4-6" class="outline-4">
<h4 id="sec-3-4-6">Structures</h4>
<div class="outline-text-4" id="text-3-4-6">
<p>
Structure is simple group of some data separated by comma.
</p>

<pre class="example">
struct { 
  &lt;member1 name&gt;: &lt;type&gt;,
  &lt;member2 name&gt;: &lt;type&gt;,
  &lt;member3 name&gt;: &lt;type&gt;
};
</pre>

<p>
Example:
</p>
<div class="org-src-container">

<pre class="src src-bl"><span class="linenr"> 1: </span><span style="color: #808080;">#load</span> <span style="color: #008000;">"std/debug.bl"</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span>#<span style="color: #006699;">test</span> <span style="color: #008000;">"simple structure"</span> {
<span class="linenr"> 4: </span>  <span style="color: #006699;">Foo</span> :: <span style="color: #0000FF;">struct</span> {
<span class="linenr"> 5: </span>    <span style="color: #D0372D;">i</span>: <span style="color: #6434A3;">s32</span>,
<span class="linenr"> 6: </span>    <span style="color: #D0372D;">j</span>: <span style="color: #6434A3;">s32</span> 
<span class="linenr"> 7: </span>  };
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  <span style="color: #D0372D;">foo</span> : Foo;
<span class="linenr">10: </span>  foo.i = <span style="color: #D0372D;">10</span>;
<span class="linenr">11: </span>  foo.j = <span style="color: #D0372D;">20</span>;
<span class="linenr">12: </span>
<span class="linenr">13: </span>  <span style="color: #006699;">assert</span>(foo.i == <span style="color: #D0372D;">10</span>);
<span class="linenr">14: </span>  <span style="color: #006699;">assert</span>(foo.j == <span style="color: #D0372D;">20</span>);
<span class="linenr">15: </span>};
<span class="linenr">16: </span>
<span class="linenr">17: </span>#<span style="color: #006699;">test</span> <span style="color: #008000;">"anonymous structure"</span> {
<span class="linenr">18: </span>  <span style="color: #006699;">foo</span> : <span style="color: #0000FF;">struct</span> {
<span class="linenr">19: </span>    <span style="color: #D0372D;">i</span>: <span style="color: #6434A3;">s32</span>,
<span class="linenr">20: </span>    <span style="color: #D0372D;">j</span>: <span style="color: #6434A3;">s32</span> 
<span class="linenr">21: </span>  };
<span class="linenr">22: </span>
<span class="linenr">23: </span>  foo.i = <span style="color: #D0372D;">10</span>;
<span class="linenr">24: </span>  foo.j = <span style="color: #D0372D;">20</span>;
<span class="linenr">25: </span>
<span class="linenr">26: </span>  <span style="color: #006699;">assert</span>(foo.i == <span style="color: #D0372D;">10</span>);
<span class="linenr">27: </span>  <span style="color: #006699;">assert</span>(foo.j == <span style="color: #D0372D;">20</span>);
<span class="linenr">28: </span>};
<span class="linenr">29: </span>
<span class="linenr">30: </span>#<span style="color: #006699;">test</span> <span style="color: #008000;">"auto dereference for structure poiners"</span> {
<span class="linenr">31: </span>  <span style="color: #006699;">Foo</span> :: <span style="color: #0000FF;">struct</span> {
<span class="linenr">32: </span>    <span style="color: #D0372D;">i</span>: <span style="color: #6434A3;">s32</span>,
<span class="linenr">33: </span>    <span style="color: #D0372D;">j</span>: <span style="color: #6434A3;">s32</span> 
<span class="linenr">34: </span>  };
<span class="linenr">35: </span>
<span class="linenr">36: </span>  <span style="color: #D0372D;">foo</span> : Foo;
<span class="linenr">37: </span>  <span style="color: #BA36A5;">foo_ptr </span>:= &amp;foo;
<span class="linenr">38: </span>  foo_ptr.i = <span style="color: #D0372D;">10</span>;
<span class="linenr">39: </span>  foo_ptr.j = <span style="color: #D0372D;">20</span>;
<span class="linenr">40: </span>
<span class="linenr">41: </span>  <span style="color: #006699;">assert</span>(foo.i == <span style="color: #D0372D;">10</span>);
<span class="linenr">42: </span>  <span style="color: #006699;">assert</span>(foo.j == <span style="color: #D0372D;">20</span>);
<span class="linenr">43: </span>};
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-3-4-7" class="outline-4">
<h4 id="sec-3-4-7"><span class="todo TODO">TODO</span> Enums</h4>
<div class="outline-text-4" id="text-3-4-7">
<pre class="example">
&lt;name&gt; :: enum [type] { 
  &lt;variant1 name&gt; [:: &lt;expr&gt;],
  &lt;variant2 name&gt; [:: &lt;expr&gt;],
  &lt;variant3 name&gt; [:: &lt;expr&gt;]
};
</pre>
</div>
</div>

<div id="outline-container-sec-3-4-8" class="outline-4">
<h4 id="sec-3-4-8"><span class="todo TODO">TODO</span> Type aliasing</h4>
<div class="outline-text-4" id="text-3-4-8">
<p>
It's posible to create alias to any data type.
</p>

<pre class="example">
&lt;alias name&gt; :: &lt;type&gt;;
</pre>

<p>
Example:
</p>
<div class="org-src-container">

<pre class="src src-bl"><span class="linenr">1: </span><span style="color: #808080;">#test</span> <span style="color: #008000;">"alias"</span> {
<span class="linenr">2: </span>  <span style="color: #D0372D;">T</span> :: <span style="color: #6434A3;">s32</span>;
<span class="linenr">3: </span>  <span style="color: #D0372D;">i</span> : T;
<span class="linenr">4: </span>};
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-3-4-9" class="outline-4">
<h4 id="sec-3-4-9">Function type</h4>
<div class="outline-text-4" id="text-3-4-9">
<p>
Type of function. 
</p>

<pre class="example">
fn ([arguments]) [return type]
</pre>

<div class="org-src-container">

<pre class="src src-bl"><span style="color: #8D8D84; font-style: italic;">// type of function without arguments and without return value</span>
<span style="color: #0000FF;">fn</span> ()             

<span style="color: #8D8D84; font-style: italic;">// type of function without arguments, returning value of 's32' type</span>
<span style="color: #0000FF;">fn</span> () <span style="color: #6434A3;">s32</span>

<span style="color: #8D8D84; font-style: italic;">// type of function with two arguments, returning value of 's32' type</span>
<span style="color: #0000FF;">fn</span> (<span style="color: #6434A3;">s32</span>, <span style="color: #6434A3;">bool</span>) <span style="color: #6434A3;">s32</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-3-4-10" class="outline-4">
<h4 id="sec-3-4-10">Type casting</h4>
<div class="outline-text-4" id="text-3-4-10">
<p>
Change type of value to other type. Conventions between integer types is generated implicitly by the compiler.
</p>

<pre class="example">
cast(&lt;T&gt;) &lt;expr&gt;
</pre>

<p>
Example:
</p>
<div class="org-src-container">

<pre class="src src-bl"><span class="linenr"> 1: </span><span style="color: #808080;">#test</span> <span style="color: #008000;">"type cast"</span> {
<span class="linenr"> 2: </span>  <span style="color: #8D8D84; font-style: italic;">// default type of integer literal is 's32'</span>
<span class="linenr"> 3: </span>  <span style="color: #BA36A5;">i </span>:= <span style="color: #D0372D;">666</span>; 
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span>  <span style="color: #8D8D84; font-style: italic;">// type of the integer literal is changed to u64</span>
<span class="linenr"> 6: </span>  <span style="color: #D0372D;">j</span> : <span style="color: #6434A3;">u64</span> = <span style="color: #D0372D;">666</span>;
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  <span style="color: #8D8D84; font-style: italic;">// 'j' is implicitly casted to 'u32'</span>
<span class="linenr"> 9: </span>  <span style="color: #D0372D;">k</span> : <span style="color: #6434A3;">u32</span> = j;
<span class="linenr">10: </span>
<span class="linenr">11: </span>  <span style="color: #8D8D84; font-style: italic;">// implicit cast on function call</span>
<span class="linenr">12: </span>  <span style="color: #0000FF;">fn</span> (num: <span style="color: #6434A3;">u16</span>) {
<span class="linenr">13: </span>  } (j);
<span class="linenr">14: </span>
<span class="linenr">15: </span>  <span style="color: #8D8D84; font-style: italic;">// explicit cast of 'f32' type to 's32'</span>
<span class="linenr">16: </span>  <span style="color: #BA36A5;">l </span>:= <span style="color: #D0372D;">1</span>.<span style="color: #D0372D;">5f</span>;
<span class="linenr">17: </span>  <span style="color: #BA36A5;">m </span>:= <span style="color: #0000FF;">cast</span>(<span style="color: #6434A3;">s32</span>) l;
<span class="linenr">18: </span>};
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-3-5" class="outline-3">
<h3 id="sec-3-5">Literals</h3>
<div class="outline-text-3" id="text-3-5">
</div><div id="outline-container-sec-3-5-1" class="outline-4">
<h4 id="sec-3-5-1">Simple literals</h4>
<div class="outline-text-4" id="text-3-5-1">
<div class="org-src-container">

<pre class="src src-bl"><span style="color: #D0372D;">b</span> :: <span style="color: #D0372D;">true</span>;         <span style="color: #8D8D84; font-style: italic;">// bool true literal </span>
<span style="color: #D0372D;">b</span> :: <span style="color: #D0372D;">false</span>;        <span style="color: #8D8D84; font-style: italic;">// bool false literal </span>
<span style="color: #D0372D;">ptr</span> : *<span style="color: #6434A3;">s32</span> = <span style="color: #D0372D;">null</span>; <span style="color: #8D8D84; font-style: italic;">// *s32 null pointer literal</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-3-5-2" class="outline-4">
<h4 id="sec-3-5-2">Numeric literals</h4>
<div class="outline-text-4" id="text-3-5-2">
<div class="org-src-container">

<pre class="src src-bl"><span style="color: #D0372D;">i</span>     :: <span style="color: #D0372D;">10</span>;      <span style="color: #8D8D84; font-style: italic;">// s32 literal</span>
<span style="color: #D0372D;">i_hex</span> :: <span style="color: #D0372D;">0x10</span>;    <span style="color: #8D8D84; font-style: italic;">// s32 literal</span>
<span style="color: #D0372D;">f</span>     :: <span style="color: #D0372D;">13</span>.<span style="color: #D0372D;">43f</span>;  <span style="color: #8D8D84; font-style: italic;">// f32 literal</span>
<span style="color: #D0372D;">d</span>     :: <span style="color: #D0372D;">13</span>.<span style="color: #D0372D;">43</span>;   <span style="color: #8D8D84; font-style: italic;">// f64 literal</span>
<span style="color: #D0372D;">char</span>  :: 'i';     <span style="color: #8D8D84; font-style: italic;">// u8 literal</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-3-6" class="outline-3">
<h3 id="sec-3-6">Variables</h3>
<div class="outline-text-3" id="text-3-6">
<p>
Example of variable allocated on stack.
</p>

<pre class="example">
&lt;name&gt; : &lt;type&gt;;
&lt;name&gt; : [type] = &lt;value&gt;;
</pre>

<p>
Example:
</p>
<div class="org-src-container">

<pre class="src src-bl"><span class="linenr">1: </span><span style="color: #808080;">#test</span> <span style="color: #008000;">"variables"</span> {
<span class="linenr">2: </span>  <span style="color: #D0372D;">i</span> : <span style="color: #6434A3;">s32</span> = <span style="color: #D0372D;">666</span>; 
<span class="linenr">3: </span>  <span style="color: #BA36A5;">j </span>:= <span style="color: #D0372D;">666</span>; <span style="color: #8D8D84; font-style: italic;">// type is optional here</span>
<span class="linenr">4: </span>};
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-3-7" class="outline-3">
<h3 id="sec-3-7">Constants</h3>
<div class="outline-text-3" id="text-3-7">
<p>
Example of constant allocated on stack. Constant must be initialized and cannot be changed later.
</p>

<pre class="example">
&lt;name&gt; : [type] : &lt;value&gt;;
</pre>

<p>
Example:
</p>
<div class="org-src-container">

<pre class="src src-bl"><span class="linenr">1: </span><span style="color: #808080;">#test</span> <span style="color: #008000;">"constants"</span> {
<span class="linenr">2: </span>  <span style="color: #D0372D;">i</span> : <span style="color: #6434A3;">s32</span> : <span style="color: #D0372D;">666</span>; 
<span class="linenr">3: </span>  <span style="color: #D0372D;">j</span> :: <span style="color: #D0372D;">666</span>; <span style="color: #8D8D84; font-style: italic;">// type is optional here</span>
<span class="linenr">4: </span>};
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-3-8" class="outline-3">
<h3 id="sec-3-8">Functions</h3>
<div class="outline-text-3" id="text-3-8">
</div><div id="outline-container-sec-3-8-1" class="outline-4">
<h4 id="sec-3-8-1">Named function</h4>
<div class="outline-text-4" id="text-3-8-1">
<p>
Examples of named function.
</p>

<pre class="example">
&lt;name&gt; : [type] : fn ([args]) [return type] {[body]};
</pre>

<p>
Example:
</p>
<div class="org-src-container">

<pre class="src src-bl"><span class="linenr"> 1: </span><span style="color: #808080;">#test</span> <span style="color: #008000;">"named functions"</span> {
<span class="linenr"> 2: </span>  <span style="color: #006699;">foo</span> :: <span style="color: #0000FF;">fn</span> () {
<span class="linenr"> 3: </span>  };
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span>  <span style="color: #006699;">bar</span> :: <span style="color: #0000FF;">fn</span> (i: <span style="color: #6434A3;">s32</span>) {
<span class="linenr"> 6: </span>    i; <span style="color: #8D8D84; font-style: italic;">// use i</span>
<span class="linenr"> 7: </span>  };
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  <span style="color: #006699;">baz</span> :: <span style="color: #0000FF;">fn</span> (i: <span style="color: #6434A3;">s32</span>) <span style="color: #6434A3;">s32</span> {
<span class="linenr">10: </span>    <span style="color: #0000FF;">return</span> i;
<span class="linenr">11: </span>  };
<span class="linenr">12: </span>
<span class="linenr">13: </span>  <span style="color: #006699;">foo</span>();
<span class="linenr">14: </span>  <span style="color: #006699;">bar</span>(<span style="color: #D0372D;">666</span>);
<span class="linenr">15: </span>  <span style="color: #BA36A5;">j </span>:= <span style="color: #006699;">baz</span>(<span style="color: #D0372D;">666</span>);
<span class="linenr">16: </span>};
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-3-8-2" class="outline-4">
<h4 id="sec-3-8-2">Anonymous function</h4>
<div class="outline-text-4" id="text-3-8-2">
<p>
Anonymous function has no name and contains only function literal.
</p>

<pre class="example">
fn ([args]) [return type] {[body]};
</pre>

<p>
Example of anonymous function.
</p>
<div class="org-src-container">

<pre class="src src-bl"><span class="linenr">1: </span><span style="color: #808080;">#test</span> <span style="color: #008000;">"anonymous function"</span> {
<span class="linenr">2: </span>  <span style="color: #006699;">i</span> := <span style="color: #0000FF;">fn</span> (i: <span style="color: #6434A3;">s32</span>) <span style="color: #6434A3;">s32</span> {
<span class="linenr">3: </span>    <span style="color: #0000FF;">return</span> i;
<span class="linenr">4: </span>  } (<span style="color: #D0372D;">666</span>);
<span class="linenr">5: </span>};
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-3-8-3" class="outline-4">
<h4 id="sec-3-8-3">Functions with variable argument count</h4>
<div class="outline-text-4" id="text-3-8-3">
<p>
Biscuit supports functions with variable argument count of same the type. VArgs type must be last in function argument list. Compiler internally creates temporary array of all arguments passed in vargs.
</p>

<p>
Example of variable argument count function:
</p>
<div class="org-src-container">

<pre class="src src-bl"><span class="linenr"> 1: </span><span style="color: #808080;">#load</span> <span style="color: #008000;">"std/debug.bl"</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #006699;">sum</span> :: <span style="color: #0000FF;">fn</span> (nums: ...<span style="color: #6434A3;">s32</span>) <span style="color: #6434A3;">s32</span> {
<span class="linenr"> 4: </span>  <span style="color: #8D8D84; font-style: italic;">// nums is slice of s32</span>
<span class="linenr"> 5: </span>  <span style="color: #BA36A5;">result </span>:= <span style="color: #D0372D;">0</span>;
<span class="linenr"> 6: </span>  <span style="color: #0000FF;">loop</span> i := <span style="color: #D0372D;">0</span>; i &lt; nums.len; i += <span style="color: #D0372D;">1</span> {
<span class="linenr"> 7: </span>    result += nums[i];
<span class="linenr"> 8: </span>  }
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>  <span style="color: #0000FF;">return</span> result;
<span class="linenr">11: </span>};
<span class="linenr">12: </span>
<span class="linenr">13: </span><span style="color: #808080;">#test</span> <span style="color: #008000;">"vargs"</span> {
<span class="linenr">14: </span>  <span style="color: #BA36A5;">s </span>:= <span style="color: #006699;">sum</span>(<span style="color: #D0372D;">10</span>, <span style="color: #D0372D;">20</span>, <span style="color: #D0372D;">30</span>);
<span class="linenr">15: </span>  <span style="color: #006699;">assert</span>(s == <span style="color: #D0372D;">60</span>);
<span class="linenr">16: </span>
<span class="linenr">17: </span>  s = <span style="color: #006699;">sum</span>(<span style="color: #D0372D;">10</span>, <span style="color: #D0372D;">20</span>);
<span class="linenr">18: </span>  <span style="color: #006699;">assert</span>(s == <span style="color: #D0372D;">30</span>);
<span class="linenr">19: </span>
<span class="linenr">20: </span>  s = <span style="color: #006699;">sum</span>();
<span class="linenr">21: </span>  <span style="color: #006699;">assert</span>(s == <span style="color: #D0372D;">0</span>);
<span class="linenr">22: </span>};
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-3-9" class="outline-3">
<h3 id="sec-3-9">Blocks</h3>
<div class="outline-text-3" id="text-3-9">
<p>
Block can limit scope of the variable.
</p>

<p>
Example:
</p>
<div class="org-src-container">

<pre class="src src-bl"><span class="linenr"> 1: </span><span style="color: #808080;">#load</span> <span style="color: #008000;">"std/debug.bl"</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #808080;">#test</span> <span style="color: #008000;">"blocks"</span> {
<span class="linenr"> 4: </span>  <span style="color: #BA36A5;">a </span>:= <span style="color: #D0372D;">10</span>;
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span>  {
<span class="linenr"> 7: </span>    <span style="color: #8D8D84; font-style: italic;">// this variable lives only in this scope</span>
<span class="linenr"> 8: </span>    <span style="color: #BA36A5;">i </span>:= a;
<span class="linenr"> 9: </span>    <span style="color: #006699;">assert</span>(i == <span style="color: #D0372D;">10</span>);
<span class="linenr">10: </span>  }
<span class="linenr">11: </span>
<span class="linenr">12: </span>  <span style="color: #BA36A5;">i </span>:= <span style="color: #D0372D;">20</span>;
<span class="linenr">13: </span>  <span style="color: #006699;">assert</span>(i == <span style="color: #D0372D;">20</span>);
<span class="linenr">14: </span>};
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-3-10" class="outline-3">
<h3 id="sec-3-10">Ifs</h3>
<div class="outline-text-3" id="text-3-10">
<p>
If - else base syntax:
</p>
<pre class="example">
if &lt;condition&gt; {[then block]} [else {[else block]}]
</pre>

<p>
Example:
</p>
<div class="org-src-container">

<pre class="src src-bl"><span class="linenr"> 1: </span><span style="color: #808080;">#test</span> <span style="color: #008000;">"ifs"</span> {
<span class="linenr"> 2: </span>  <span style="color: #BA36A5;">b </span>:= <span style="color: #D0372D;">true</span>;
<span class="linenr"> 3: </span>  <span style="color: #0000FF;">if</span> b {
<span class="linenr"> 4: </span>  } <span style="color: #0000FF;">else</span> {
<span class="linenr"> 5: </span>    <span style="color: #0000FF;">unreachable</span>;
<span class="linenr"> 6: </span>  }
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  <span style="color: #BA36A5;">i </span>:= <span style="color: #D0372D;">10</span>;
<span class="linenr"> 9: </span>  <span style="color: #0000FF;">if</span> i != <span style="color: #D0372D;">10</span> {
<span class="linenr">10: </span>    <span style="color: #0000FF;">unreachable</span>;
<span class="linenr">11: </span>  } 
<span class="linenr">12: </span>};
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-3-11" class="outline-3">
<h3 id="sec-3-11">Loops</h3>
<div class="outline-text-3" id="text-3-11">
<p>
Loop base syntax:
</p>
<pre class="example">
loop {[block]} 
loop &lt;condition&gt; {[block]} 
loop &lt;initialization&gt;; &lt;condition&gt;; &lt;increment&gt; {[block]}
</pre>

<p>
Example:
</p>
<div class="org-src-container">

<pre class="src src-bl"><span class="linenr"> 1: </span><span style="color: #808080;">#test</span> <span style="color: #008000;">"simple loops"</span> {
<span class="linenr"> 2: </span>  <span style="color: #D0372D;">count</span> :: <span style="color: #D0372D;">10</span>;
<span class="linenr"> 3: </span>  <span style="color: #BA36A5;">i </span>:= <span style="color: #D0372D;">0</span>;
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span>  <span style="color: #0000FF;">loop</span> {
<span class="linenr"> 6: </span>    i += <span style="color: #D0372D;">1</span>;
<span class="linenr"> 7: </span>    <span style="color: #0000FF;">if</span> i == count { <span style="color: #0000FF;">break</span>; }
<span class="linenr"> 8: </span>  }
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>  i = <span style="color: #D0372D;">0</span>;
<span class="linenr">11: </span>  <span style="color: #0000FF;">loop</span> i &lt; count {
<span class="linenr">12: </span>    i += <span style="color: #D0372D;">1</span>;
<span class="linenr">13: </span>  }
<span class="linenr">14: </span>
<span class="linenr">15: </span>  <span style="color: #0000FF;">loop</span> j := <span style="color: #D0372D;">0</span>; j &lt; count; j += <span style="color: #D0372D;">1</span> {
<span class="linenr">16: </span>    <span style="color: #8D8D84; font-style: italic;">// do something amazing here</span>
<span class="linenr">17: </span>  }
<span class="linenr">18: </span>};
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-3-12" class="outline-3">
<h3 id="sec-3-12">Break and continue</h3>
<div class="outline-text-3" id="text-3-12">
<p>
Break/continue statements can be used in loops to control execution flow.
</p>

<p>
Examples:
</p>
<div class="org-src-container">

<pre class="src src-bl"><span class="linenr"> 1: </span><span style="color: #808080;">#test</span> <span style="color: #008000;">"break and continue"</span> {
<span class="linenr"> 2: </span>  <span style="color: #BA36A5;">i </span>:= <span style="color: #D0372D;">0</span>;
<span class="linenr"> 3: </span>  <span style="color: #0000FF;">loop</span> {
<span class="linenr"> 4: </span>    i += <span style="color: #D0372D;">1</span>;
<span class="linenr"> 5: </span>    <span style="color: #0000FF;">if</span> i == <span style="color: #D0372D;">10</span> { 
<span class="linenr"> 6: </span>      <span style="color: #0000FF;">break</span>; 
<span class="linenr"> 7: </span>    } <span style="color: #0000FF;">else</span> {
<span class="linenr"> 8: </span>      <span style="color: #0000FF;">continue</span>;
<span class="linenr"> 9: </span>    }
<span class="linenr">10: </span>  }
<span class="linenr">11: </span>};
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-3-13" class="outline-3">
<h3 id="sec-3-13">Unit tests</h3>
<div class="outline-text-3" id="text-3-13">
<p>
Biscuit compiler supports unit testing by default.
</p>

<p>
Create unit test case:
</p>
<div class="org-src-container">

<pre class="src src-bl"><span style="color: #808080;">#load</span> <span style="color: #008000;">"std/debug.bl"</span>

<span style="color: #8D8D84; font-style: italic;">// function to be tested</span>
<span style="color: #006699;">add</span> :: <span style="color: #0000FF;">fn</span> (a: <span style="color: #6434A3;">s32</span>, b: <span style="color: #6434A3;">s32</span>) <span style="color: #6434A3;">s32</span> {
  <span style="color: #0000FF;">return</span> a + b;
};

<span style="color: #808080;">#test</span> <span style="color: #008000;">"this is OK"</span> {
  <span style="color: #006699;">assert</span>(<span style="color: #006699;">add</span>(<span style="color: #D0372D;">10</span>, <span style="color: #D0372D;">20</span>) == <span style="color: #D0372D;">30</span>); 
};

<span style="color: #808080;">#test</span> <span style="color: #008000;">"this is not OK"</span> {
  <span style="color: #006699;">assert</span>(<span style="color: #006699;">add</span>(<span style="color: #D0372D;">10</span>, <span style="color: #D0372D;">20</span>) != <span style="color: #D0372D;">30</span>); 
};
</pre>
</div>

<p>
Run tests:
</p>
<pre class="example">
$ blc -no-bin -run-tests test.bl
compiler version: 0.4.0 (pre-alpha)
compile assembly: test

executing test cases...
[ PASSED ] (1/2) /Users/travis/Desktop/test.bl:8 'this is my test'
error: execution reached unreachable code
/Users/travis/Develop/bl/api/std/debug.bl:31:5 
  30 |   if (!cond) {
  31 |     unreachable;
     |     ^^^^^^^^^^^
  32 |   }
/Users/travis/Desktop/test.bl:13:12 
  12 |    #test "this is not OK" {
  13 |      assert(add(10, 20) != 30); 
     |            ^
  14 |    };
[ FAILED ] (2/2) /Users/travis/Desktop/test.bl:12 'this is not OK'
testing done, 1 of 2 failed

compiled 47 lines in 0.001551 seconds

finished at 22-01-2019 21:28:10
done
</pre>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Martin Dorazil</p>
<p class="date">Created: 2019-02-25 Po 00:17</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 25.2.2 (<a href="http://orgmode.org">Org</a> mode 8.2.10)</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
